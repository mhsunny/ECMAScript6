<!DOCTYPE html>
<html>

<body>

    <h2>Creating Objects and class

    </h2>

    <pre>
    <code> 'use strict'
            class Polygon {
                constructor(height, width) {
                    this.h = height;
                    this.w = width;
                }
                test() {
                    console.log("The height of the polygon: ", this.h)
                    console.log("The width of the polygon: ", this.w)
                }
            }
    
            //creating an instance  
            var polyObj = new Polygon(10, 20);
            polyObj.test();
    
            class Recrengel {
    
    
                constructor(rwidth, rheight) {
                    this.rw = rwidth;
                    this, rh = rheight;
    
                }
    
                createRec() {
                    console.log("The height of the polygon: ", this.rh)
                    console.log("The width of the polygon: ", this.rw)
                }
    
            }
    
    
            //creating an instance  
            var recObj = new Recrengel(100, 80);
            myrec = recObj.createRec();
            console.log("rectangle: " + myrec);
        </code>
    </pre>


    <script>
        'use strict'
        class Polygon {
            constructor(height, width) {
                this.h = height;
                this.w = width;
            }
            test() {
                console.log("The height of the polygon: ", this.h)
                console.log("The width of the polygon: ", this.w)
            }
        }

        //creating an instance  
        var polyObj = new Polygon(10, 20);
        polyObj.test();

        console.log("rectangle: " + myrec);


        class Recrengel {


            constructor(rwidth, rheight) {
                this.rw = rwidth;
                this.rh = rheight;

            }

            createRec() {
                //  console.log("The height of the polygon: ", this.rh)
                // console.log("The width of the polygon: ", this.rw)
                return this.rh * this.rw;
            }

        }


        //creating an instance  
        var recObj = new Recrengel(100, 80);
        var myrec = recObj.createRec();
        console.log("rectangle: " + myrec);
    </script>


    <script>
        'use strict'
        class PrinterClass {
            doPrint() {
                console.log("doPrint() from Parent called…")
            }
        }
        class StringPrinter extends PrinterClass {
            doPrint() {
                super.doPrint()
                console.log("doPrint() is printing a string…")
            }
        }
        var obj = new StringPrinter()
        obj.doPrint()
    </script>
    <h2>
        Promises and Callbacks.

    </h2>
    <pre>
        function notifyAll(fnSms, fnEmail) {
            setTimeout(function() {
                console.log('starting notification process');
                fnSms();
                fnEmail();
            }, 2000);
        }
        notifyAll(
            function() {
                console.log("Sms send ..");
            },
            function() {
                console.log("email send ..");
            }
        );
        console.log("End of script"); //executes first or not blocked by others
        
</pre>

    <script>
        function notifyAll(fnSms, fnEmail) {
            setTimeout(function() {
                console.log('starting notification process');
                fnSms();
                fnEmail();
            }, 2000);
        }
        notifyAll(
            function() {
                console.log("Sms send ..");
            },
            function() {
                console.log("email send ..");
            }
        );
        console.log("End of script"); //executes first or not blocked by others
    </script>


    <h2>Understanding Callback
    </h2>
    <pre>
        <code>
                function getSum(n1, n2) {
                    var isAnyNegative = function() {
                        return n1 < 0 || n2 < 0;
                    }
                    var promise = new Promise(function(resolve, reject) {
                        if (isAnyNegative()) {
                            reject(Error("Negatives not supported"));
                        }
                        resolve(n1 + n2);
                    });
                    return promise;
                }
                getSum(5, 6)
                    .then(function(result) {
                            console.log(result);
                            return getSum(10, 20);
                            //this returns another Promise   
                        },
                        function(error) {
                            console.log(error);
                        })
                    .then(function(result) {
                            console.log(result);
                            return getSum(30, 40);
                            //this returns another Promise   
                        },
                        function(error) {
                            console.log(error);
                        })
                    .then(function(result) {
                            console.log(result);
                        },
                        function(error) {
                            console.log(error);
                        });
                console.log("End of script ");
        </code>
    </pre>

    <script>
        function getSum(n1, n2) {
            var isAnyNegative = function() {
                return n1 < 0 || n2 < 0;
            }
            var promise = new Promise(function(resolve, reject) {
                if (isAnyNegative()) {
                    reject(Error("Negatives not supported"));
                }
                resolve(n1 + n2);
            });
            return promise;
        }
        getSum(5, 6)
            .then(function(result) {
                    console.log("1st res: " + result);
                    return getSum(10, 20);
                    //this returns another Promise   
                },
                function(error) {
                    console.log("1st error: " + error);
                })
            .then(function(result) {
                    console.log("2nd res: " + result);
                    return getSum(30, -40);
                    //this returns another Promise   
                },
                function(error) {
                    console.log("2nd error: " + error);
                })
            .then(function(result) {
                    console.log("3rd res: " + result);
                },
                function(error) {
                    console.log("3rd error: " + error);
                });
        console.log("End of script ");
    </script>

    <script>
        import display_message from 'MessageModule.js'
        display_message()
    </script>
</body>

</html>